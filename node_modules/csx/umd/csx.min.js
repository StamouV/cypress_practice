!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(t.csx={})}(this,function(t){"use strict"
var h=/[\s]*([a-z-]+)[\s]*\([\s]*([^\)]+)[\s]*\)[\s]*/i,r=/^(\-?\d+\.?\d{0,5})/,n=function(r){return function(t){return t+r}},v=parseFloat
function g(t){return"number"==typeof t?t:.01*v(t)}function c(t){return s(100*t)+"%"}function s(t){return r.exec(t.toString())[1]}function p(t,r){return t+"("+Array.prototype.join.call(r,", ")+")"}function e(t){return function(){return p(t,arguments)}}var o=n("%"),a=n("deg"),i=n("em"),u=n("px"),f=n("rad"),l=n("rem"),d=n("vh"),y=n("vw"),b=n("turn"),w=function(n){return function(){return(t=arguments,r=function(t){return t||0===t},Array.prototype.filter.call(t,r)).map(function(t){return"number"==typeof t?u(t):t.toString()}).join(n)
var t,r}},m=w(" "),x=w(",")
var S,k=m,H=m,X=m,Y=Math.round
function j(t,r){return Y(t*r)/r}var G="rgb",A="hsl",B=((S={})[G+A]=function(t,r,n,e,o){var a,i,u=t/255,f=r/255,c=n/255,s=Math.min(u,f,c),p=Math.max(u,f,c),l=(s+p)/2,h=p-s
a=p===s?0:u===p?(f-c)/h:f===p?2+(c-u)/h:c===p?4+(u-f)/h:0;(a=Math.min(60*a,360))<0&&(a+=360)
i=p===s?0:.5<l?h/(2-p-s):h/(p+s)
return new z(A,a,i,l,e,o)},S[A+G]=function(t,r,n,e,o){var a=t/360,i=r,u=n
if(0===i){var f=255*u
return new z(G,f,f,f,e,o)}for(var c=u<.5?u*(1+i):u+i-u*i,s=2*u-c,p=0,l=0,h=0,v=0;v<3;v++){var g=a+1/3*-(v-1)
g<0&&g++,1<g&&g--
var f=void 0
f=6*g<1?s+6*(c-s)*g:2*g<1?c:3*g<2?s+(c-s)*(2/3-g)*6:s,f*=255,0===v?p=f:1===v?l=f:h=f}return new z(G,p,l,h,e,o)},S),L={r:255,g:255,b:255,h:360,s:1,l:1,a:1}
function M(t){return function(t){var r=t.match(/#(([a-f0-9]{6})|([a-f0-9]{3}))$/i)
if(!r)return
var n=r[1],e=parseInt(3===n.length?n[0]+n[0]+n[1]+n[1]+n[2]+n[2]:n,16)
return new z(G,e>>16&255,e>>8&255,255&e,1,!1)}(t)||function(t){var r=function(t){var r=h.exec(t)
if(r&&r.length)return[r[1]].concat(r[2].split(","))}(t)
if(!r||4!==r.length&&5!==r.length)return
var n,e=r[0],o="rgba"===e,a="hsla"===e,i=e===G,u=e===A,f=a||o
if(i||o)n=G
else{if(!u&&!a)throw new Error("unsupported color string")
n=A}var c=v(r[1]),s=i||o?v(r[2]):g(r[2]),p=i||o?v(r[3]):g(r[3]),l=f?v(r[4]):1
return new z(n,c,s,p,l,f)}(t)||Z(255,0,0)}function Z(t,r,n,e){return new z(G,t,r,n,void 0===e?1:g(e),void 0!==e)}function R(t,r,n){var e=r.f,o=r.r,a=r.g,i=r.b,u=r.a,f=void 0===n?r.o:n
return e!==t?B[e+t](o,a,i,u,f):void 0===n?r:new z(e,o,a,i,u,f)}var z=function(){function l(t,r,n,e,o,a){var i=this
i.f=t,i.o=a
var u=t===A
i.r=E(u?"h":"r",r),i.g=E(u?"s":"g",n),i.b=E(u?"l":"b",e),i.a=E("a",o)}return l.prototype.toString=function(){var t,r,n=this,e=n.o,o=n.f,a=n.r,i=n.g,u=n.b,f=n.a
if(o===G)t=e?"rgba":G,r=[Y(a),Y(i),Y(u)]
else{if(o!==A)throw new Error("Invalid color format")
t=e?"hsla":A,r=[Y(a),c(j(i,100)),c(j(u,100))]}return e&&r.push(s(j(f,1e5))),p(t,r)},l.prototype.toHexString=function(){var t=R(G,this)
return"#"+(C(t.r)+C(t.g)+C(t.b)).toUpperCase()},l.prototype.toHSL=function(){return R(A,this,!1)},l.prototype.toHSLA=function(){return R(A,this,!0)},l.prototype.toRGB=function(){return R(G,this,!1)},l.prototype.toRGBA=function(){return R(G,this,!0)},l.prototype.red=function(){var _=this
return(_.f===G?_:_.toRGB()).r},l.prototype.green=function(){var _=this
return(_.f===G?_:_.toRGB()).g},l.prototype.blue=function(){var _=this
return(_.f===G?_:_.toRGB()).b},l.prototype.hue=function(){var _=this
return(_.f===A?_:_.toHSL()).r},l.prototype.saturation=function(){var _=this
return(_.f===A?_:_.toHSL()).g},l.prototype.lightness=function(){var _=this
return(_.f===A?_:_.toHSL()).b},l.prototype.alpha=function(){return this.a},l.prototype.opacity=function(){return this.a},l.prototype.invert=function(){var _=this,t=R(G,_)
return R(_.f,new l(G,255-t.r,255-t.g,255-t.b,_.a,_.o))},l.prototype.lighten=function(t,r){var _=this,n=R(A,_),e=L.l,o=n.b+(r?e-n.b:e)*g(t)
return R(_.f,new l(A,n.r,n.g,o,_.a,_.o))},l.prototype.darken=function(t,r){var _=this,n=R(A,_),e=n.b-(r?n.b:L.l)*g(t)
return R(_.f,new l(A,n.r,n.g,e,_.a,_.o))},l.prototype.saturate=function(t,r){var _=this,n=R(A,_),e=L.s,o=n.g+(r?e-n.g:e)*g(t)
return R(_.f,new l(A,n.r,o,n.b,_.a,_.o))},l.prototype.desaturate=function(t,r){var _=this,n=R(A,_),e=L.s,o=n.g-(r?n.g:e)*g(t)
return R(_.f,new l(A,n.r,o,n.b,_.a,_.o))},l.prototype.grayscale=function(){return this.desaturate(1)},l.prototype.fade=function(t){var _=this,r=E("a",g(t))
return R(_.f,new l(_.f,_.r,_.g,_.b,r,!0))},l.prototype.fadeOut=function(t,r){var _=this,n=E("a",_.a-(r?_.a:1)*g(t))
return R(_.f,new l(_.f,_.r,_.g,_.b,n,!0))},l.prototype.fadeIn=function(t,r){var _=this,n=E("a",_.a+(r?_.a:1)*g(t))
return R(_.f,new l(_.f,_.r,_.g,_.b,n,!0))},l.prototype.mix=function(t,r){var n,e=(n=t)instanceof z?n:M(n),o=R(G,this),a=R(G,e),i=void 0===r?.5:r,u=2*i-1,f=Math.abs(o.a-a.a),c=((u*f==-1?u:(u+f)/(1+u*f))+1)/2,s=1-c,p=new l(G,Y(o.r*c+a.r*s),Y(o.g*c+a.g*s),Y(o.b*c+a.b*s),o.a*i+a.a*(1-i),this.o||e.o)
return R(this.f,p)},l.prototype.tint=function(t){return Z(255,255,255).mix(this,t)},l.prototype.shade=function(t){return Z(0,0,0).mix(this,t)},l.prototype.spin=function(t){var _=this,r=R(A,_)
return R(_.f,new l(A,I(r.r+t),r.g,r.b,_.a,_.o))},l}()
function C(t){var r=Y(t)
return(r<16?"0":"")+r.toString(16)}function I(t){return((t<0?360:0)+t%360)%360}function E(t,r){var n=0,e=L[t]
return r<n?n:e<r?e:r}function O(t){return Array.isArray(t)?t.map(function(t){return t.toString()}).join(" "):t.toString()}var W=m,q=m
function F(t){return t||0===t?t.toString():""}var P=e("matrix"),U=e("matrix3d"),$=e("perspective"),D=e("rotate"),J=e("rotate3d"),K=e("rotateX"),N=e("rotateY"),Q=e("rotateZ"),T=e("scale"),V=e("scale3d"),tt=e("scaleX"),rt=e("scaleY"),nt=e("scaleZ"),et=e("skew"),ot=e("skewX"),at=e("skewY"),it=e("translate"),ut=e("translate3d"),ft=e("translateX"),ct=e("translateY"),st=e("translateZ")
t.background=function(){for(var t="",r=0;r<arguments.length;r++){var n=arguments[r],e=n.size?"/"+n.size:"",o=[F(n.image),F(n.position)+e,F(n.repeat),F(n.origin),F(n.clip),F(n.attachment),F(n.color)].filter(Boolean).join(" ")
t+=(t.length&&o?", ":"")+o}return t},t.border=function(t){return m(t.color,t.style,function(t){if(null!=t){var r=+t
return r==r?t+"px":t}}(t.width))},t.borderColor=k,t.borderStyle=H,t.borderWidth=X,t.color=M,t.hsl=function(t,r,n,e){return new z(A,I(t),g(r),g(n),void 0===e?1:g(e),void 0!==e)},t.hsla=function(t,r,n,e){return new z(A,I(t),g(r),g(n),g(e),!0)},t.rgb=Z,t.rgba=function(t,r,n,e){return new z(G,t,r,n,g(e),!0)},t.ColorHelper=z,t.linearGradient=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n]
return p("linear-gradient",[t].concat(r.map(O)))},t.repeatingLinearGradient=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n]
return p("repeating-linear-gradient",[t].concat(r.map(O)))},t.params=m,t.list=x,t.margin=W,t.padding=q,t.calc=function(t){return"calc("+t+")"},t.quote=function(t){return"'"+(t||0===t?t.toString():"").replace(/\'/g,"\\'")+"'"},t.important=function(t){return t||0===t?t.toString()+" !important":""},t.url=function(t){return"url("+(t||"")+")"},t.coalesce=F,t.transform=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r]
return t.length?t.join(" "):"none"},t.matrix=P,t.matrix3d=U,t.perspective=$,t.rotate=D,t.rotate3d=J,t.rotateX=K,t.rotateY=N,t.rotateZ=Q,t.scale=T,t.scale3d=V,t.scaleX=tt,t.scaleY=rt,t.scaleZ=nt,t.skew=et,t.skewX=ot,t.skewY=at,t.translate=it,t.translate3d=ut,t.translateX=ft,t.translateY=ct,t.translateZ=st,t.percent=o,t.deg=a,t.em=i,t.px=u,t.rad=f,t.rem=l,t.viewHeight=d,t.viewWidth=y,t.turn=b,Object.defineProperty(t,"__esModule",{value:!0})})
